function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,a,t){return a&&_defineProperties(e.prototype,a),t&&_defineProperties(e,t),e}var Cart=function(){function a(e){_classCallCheck(this,a),this.DOM={cart:e,openCart:CobblesKitchen.header.primaryNav.querySelector("[data-cart-open]"),closeCart:e.querySelector("[data-cart-close]"),documentOverlay:document.querySelector(".document-overlay")},this.initEventListeners()}return _createClass(a,[{key:"init",value:function(e){CartJS.init(e)}},{key:"initEventListeners",value:function(){this.DOM.openCart.addEventListener("click",this.openCart.bind(this)),this.DOM.closeCart.addEventListener("click",this.closeCart.bind(this)),this.DOM.documentOverlay.addEventListener("click",this.closeCart.bind(this))}},{key:"openCart",value:function(){this.DOM.cart.classList.add("sidebar-cart--show"),this.DOM.documentOverlay.classList.add("document-overlay--show")}},{key:"closeCart",value:function(){this.DOM.cart.classList.remove("sidebar-cart--show"),this.DOM.documentOverlay.classList.remove("document-overlay--show")}},{key:"addToCart",value:function(e){var a=this;CartJS.addItem(e.currentVariant.id,e.quantity,null,{success:function(){a.openCart()},error:function(){console.log("oh dear")}}),this.resetProductDOM()}},{key:"resetProductDOM",value:function(){var e=CobblesKitchen.product;e.updatePrice(e.currentVariant.price),e.quantity=1,e.DOM.quantity.value=1}}]),a}();$(".subscription-article-topic").each(function(){var e=$(this).text(),a='<label class="w-checkbox checkbox-field"> <input type="checkbox" id="'+e+'" name="'+e.replace(/' '/g,"-")+'" data-name="'+e+'" class="w-checkbox-input checkbox"><span for="'+e+'" class="checkbox-label w-form-label">'+e+"</span></label>";$(".subscription-article-checkboxes").append(a)});var openSearchBar=function(){$(this).addClass(".navbar_search-button--active"),$(".subnav-wrapper").addClass("subnav-wrapper--hidden"),$(".navbar_logo").addClass("navbar_logo--hidden"),$(".navbar_search-wrapper").show(),window.setTimeout(function(){$(".navbar_search-wrapper").removeClass("navbar_search-wrapper--hidden")},350)},closeSearchBar=function(){$(".navbar_search-wrapper").addClass("navbar_search-wrapper--hidden"),window.setTimeout(function(){$(".navbar_search-wrapper").hide(),$(".subnav-wrapper").removeClass("subnav-wrapper--hidden"),$(".navbar_logo").removeClass("navbar_logo--hidden")},350)},searchBar=function(){$(".navbar_search-wrapper").hide(),$(".navbar_search-button").click(openSearchBar),$(".navbar_search-cancel-btn").click(closeSearchBar)},homepage_logo_animation=function(){var e=$(".logo-animation .logo-animation-container");console.log(e),null!==sessionStorage.getItem("logo-animation")?($(".logo-animation").addClass("hide"),console.log(e)):(console.log("logo animation append"),e.append('<img src="https://raw.githubusercontent.com/Davey-Wright/pursuit-collective/master/cdn/logo-animation.svg/>'),this.setTimeout(function(){$(".logo-animation").addClass("hide"),sessionStorage.setItem("logo-animation","disabled")},5e3))},set_editors_note_height=function(){var e=$(".volume-1-editors-note"),a=e.height()+window.innerHeight;e.css("min-height",a)};$(document).ready(function(){var a;searchBar(),$(".footer_search-link").click(openSearchBar),homepage_logo_animation(),sal({threshold:.1}),"/volume-1"==window.location.pathname&&(991<window.innerWidth&&(set_editors_note_height(),$(window).resize(set_editors_note_height)),sal({threshold:.1}),(a=new XMLHttpRequest).open("GET","https://www.pursuitcollective.com/volume-1-chapters",!0),a.responseType="document",a.onreadystatechange=function(){var e;4==a.readyState&&(e=a.response.getElementById("chapters"),$("#volume-1-chapters").html(e.innerHTML).promise().then(sal({threshold:.1})))},a.send(null))});